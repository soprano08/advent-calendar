<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Ko≈Ço fortuny</title>

<style>
body {
    font-family: Arial, sans-serif;
    text-align: center;
    background: #eee;
}

#wheel {
    position: relative;
    width: 500px;
    height: 500px;
    border: 10px solid #333;
    border-radius: 50%;
    margin: 40px auto;
    overflow: hidden;
}

.slice {
    position: absolute;
    width: 50%;
    height: 50%;
    top: 50%;
    left: 50%;
    transform-origin: 0% 0%;
}

/* wska≈∫nik */
#pointer {
    width: 0;
    height: 0;
    border-left: 25px solid transparent;
    border-right: 25px solid transparent;
    border-bottom: 40px solid red;
    margin: 0 auto;
    margin-bottom: 20px;
}

/* kolor + nagroda */
#resultBox {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
}

#colorBox {
    width: 50px;
    height: 50px;
    border: 2px solid #333;
}
</style>

</head>
<body>

<h2>Zakolej szczƒô≈õcia üòé</h2>

<div id="pointer"></div>

<div id="wheel"></div>

<button id="spinBtn">Zakrƒôƒá</button>

<div id="resultBox">
    <div id="colorBox"></div>
    <p id="result"></p>
</div>

<script>
let canSpin = true;

// NAGRODY I KOLORY
let prizes = [
    "Dresy",
    "Gatki z niespodziankƒÖ",
    "Sesja buziakowa",
    "Filmik jƒôzykowy",
    "Klata na ≈ºyczenie",
    "D≈Çonie na ≈ºyczenie",
    "Trochƒô g≈Ços√≥wek",
    "Penis w ca≈Ço≈õci"  // wizualnie na kole
];

let colors = ["#ff6", "#6ff", "#99f", "#f96", "#9f9", "#6cf", "#fc9", "#cff"];

let wheel = document.getElementById("wheel");
let sliceCount = prizes.length;
let angleStep = 360 / sliceCount;

// TWORZENIE KO≈ÅA Z SAMYMI KOLORAMI
for (let i = 0; i < sliceCount; i++) {
    let slice = document.createElement("div");
    slice.className = "slice";
    slice.style.background = colors[i % colors.length];
    slice.style.transform = `rotate(${i * angleStep}deg) skewY(${90 - angleStep}deg)`;
    wheel.appendChild(slice);
}

document.getElementById("spinBtn").onclick = function() {
    if (!canSpin) return;
    canSpin = false;

    // losowanie bez "Penis w ca≈Ço≈õci"
    let safePrizes = prizes.filter(p => p !== "Penis w ca≈Ço≈õci");
    let selectedIndex = Math.floor(Math.random() * safePrizes.length);
    let selectedPrize = safePrizes[selectedIndex];
    let selectedColor = colors[selectedIndex];

    // losowanie obrotu ko≈Ça
    let randomDeg = 3600 + Math.random() * 360;
    wheel.style.transition = "transform 4s ease-out";
    wheel.style.transform = `rotate(${randomDeg}deg)`;

    document.getElementById("result").innerHTML = "Losujƒô...";
    document.getElementById("colorBox").style.background = "#fff";

    setTimeout(() => {
        document.getElementById("result").innerHTML = selectedPrize;
        document.getElementById("colorBox").style.background = selectedColor;
    }, 4000);
};
</script>

</body>
</html>
