<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ko≈Ço Fortuny</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #f2f2f2;
        text-align: center;
        padding-top: 50px;
    }

    h1 {
        margin-bottom: 20px;
    }

    #pointer {
        width: 0;
        height: 0;
        border-left: 25px solid transparent;
        border-right: 25px solid transparent;
        border-bottom: 45px solid red;
        margin: 20px auto;
    }

    /* DU≈ªE KO≈ÅO */
    #wheel {
        width: 500px;
        height: 500px;
        border-radius: 50%;
        border: 10px solid #333;
        margin: 0 auto;
        position: relative;
        overflow: hidden;
        transition: transform 5s ease-out;
    }

    /* KAWA≈ÅKI KO≈ÅA */
    .slice {
        position: absolute;
        width: 50%;
        height: 50%;
        top: 50%;
        left: 50%;
        transform-origin: 0% 0%;
        border: 1px solid #333;
    }

    /* 8 POLI */
    .slice:nth-child(1) { transform: rotate(0deg);   background:#ff9999; }
    .slice:nth-child(2) { transform: rotate(45deg);  background:#ffcc66; }
    .slice:nth-child(3) { transform: rotate(90deg);  background:#99ff99; }
    .slice:nth-child(4) { transform: rotate(135deg); background:#66ccff; }
    .slice:nth-child(5) { transform: rotate(180deg); background:#cc99ff; }
    .slice:nth-child(6) { transform: rotate(225deg); background:#ff9966; }
    .slice:nth-child(7) { transform: rotate(270deg); background:#ffff66; }
    .slice:nth-child(8) { transform: rotate(315deg); background:#66ffcc; }

    /* NAPISY PIONOWO */
    .slice span {
        position: absolute;
        left: 10px;
        bottom: 10px;
        writing-mode: vertical-rl;
        font-size: 20px;
        font-weight: bold;
        transform: rotate(180deg);
        height: calc(100% - 20px);
        display: flex;
        align-items: center;
        justify-content: center;
        pointer-events: none;
    }

    button {
        margin-top: 30px;
        padding: 12px 28px;
        background: #333;
        color: #fff;
        border: none;
        cursor: pointer;
        font-size: 22px;
        border-radius: 12px;
    }

    #result {
        margin-top: 30px;
        font-size: 28px;
        font-weight: bold;
    }
</style>

</head>
<body>

<h1>Ko≈Ço Fortuny üéÅ</h1>

<div id="pointer"></div>

<div id="wheel">
    <div class="slice"><span>Filmik jƒôzykowy</span></div>
    <div class="slice"><span>Sesja buziakowa</span></div>
    <div class="slice"><span>Trochƒô g≈Ços√≥wek</span></div>
    <div class="slice"><span>Klata na ≈ºyczenie</span></div>
    <div class="slice"><span>D≈Çonie na ≈ºyczenie</span></div>
    <div class="slice"><span>Dresy</span></div>
    <div class="slice"><span>Gatki z niespodziankƒÖ</span></div>
    <div class="slice"><span>Penis w ca≈Ço≈õci</span></div>
</div>

<button onclick="spin()">Zakrƒôƒá ko≈Çem</button>

<div id="result"></div>

<script>

    /* NAGRODY ‚Äî OSTATNIA MA 0% SZANS */
    const prizes = [
        "Filmik jƒôzykowy",
        "Sesja buziakowa",
        "Trochƒô g≈Ços√≥wek",
        "Klata na ≈ºyczenie",
        "D≈Çonie na ≈ºyczenie",
        "Dresy",
        "Gatki z niespodziankƒÖ",
        "Penis w ca≈Ço≈õci"   // 0% szans
    ];

    /* SZANSE ‚Äî ostatnie pole = 0 */
    const weights = [
        15, 15, 15, 15, 15, 15, 10, 0
    ];

    /* MO≈ªNA TYLKO RAZ KRƒòCIƒÜ */
    if (localStorage.getItem("spun")) {
        document.querySelector("button").disabled = true;
        document.querySelector("button").innerText = "Ju≈º zakrƒôci≈Ça≈õ üòé";
    }

    function spin() {

        if (localStorage.getItem("spun")) return;

        const wheel = document.getElementById("wheel");
        const result = document.getElementById("result");

        /* LOSOWANIE Z WAGAMI */
        const totalWeight = weights.reduce((a,b)=>a+b,0);
        let random = Math.random() * totalWeight;
        let chosen = 0;

        for (let i = 0; i < weights.length; i++) {
            random -= weights[i];
            if (random < 0) {
                chosen = i;
                break;
            }
        }

        /* OBR√ìT KO≈ÅA */
        const deg = 360 * 8 + (360 - chosen * 45 - 22.5);
        wheel.style.transform = `rotate(${deg}deg)`;

        setTimeout(() => {
            result.innerHTML = "Wylosowa≈Ça≈õ: <br><br> üéÅ <b>" + prizes[chosen] + "</b>";
            localStorage.setItem("spun", "true");
            document.querySelector("button").disabled = true;
            document.querySelector("button").innerText = "Ju≈º zakrƒôci≈Ça≈õ üòé";
        }, 5200);
    }

</script>

</body>
</html>
