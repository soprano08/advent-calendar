<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Koo Fortuny</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #f2f2f2;
        text-align: center;
        padding: 30px;
    }

    #wheel {
        width: 450px;
        height: 450px;
        border-radius: 50%;
        border: 10px solid #333;
        margin: 0 auto;
        position: relative;
        overflow: hidden;
        transition: transform 5s ease-out;
    }

    /* ====== 8 POL ======= */
    .slice {
        position: absolute;
        width: 50%;
        height: 50%;
        top: 50%;
        left: 50%;
        transform-origin: 0% 0%;
        border: 1px solid #333;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 17px;
        padding: 5px;
        text-align: center;
        box-sizing: border-box;
        background: #ffd966;
    }

    /* ka偶demu polu nadajemy osobny kolor i obr贸t co 45掳 */
    .slice:nth-child(1)  { transform: rotate(0deg);   background:#ffd966; }
    .slice:nth-child(2)  { transform: rotate(45deg);  background:#ff6961; }
    .slice:nth-child(3)  { transform: rotate(90deg);  background:#77dd77; }
    .slice:nth-child(4)  { transform: rotate(135deg); background:#84b6f4; }
    .slice:nth-child(5)  { transform: rotate(180deg); background:#ffb347; }
    .slice:nth-child(6)  { transform: rotate(225deg); background:#c49bd3; }
    .slice:nth-child(7)  { transform: rotate(270deg); background:#f4a460; }
    .slice:nth-child(8)  { transform: rotate(315deg); background:#a0e7e5; }

    /* >>> klucz: tekst prostujemy <<< */
    .slice span {
        transform: rotate(-45deg);
        display: block;
        width: 100px;
    }

    /* pointer */
    #pointer {
        width: 0;
        height: 0;
        border-left: 30px solid transparent;
        border-right: 30px solid transparent;
        border-top: 45px solid red;
        margin: 20px auto;
    }

    button {
        margin-top: 30px;
        padding: 14px 30px;
        background: #333;
        color: white;
        border: none;
        font-size: 20px;
        border-radius: 12px;
        cursor: pointer;
    }
    
    button:disabled {
        background: #777;
        cursor: not-allowed;
    }

    #result {
        margin-top: 25px;
        font-size: 26px;
        font-weight: bold;
    }
</style>
</head>
<body>

<h1>Koo Fortuny </h1>

<div id="pointer"></div>

<div id="wheel">
    <div class="slice"><span>Filmik jzykowy</span></div>
    <div class="slice"><span>Penis w caoci</span></div>
    <div class="slice"><span>Sesja buziakowa</span></div>
    <div class="slice"><span>Troch gos贸wek</span></div>
    <div class="slice"><span>Klatka na 偶yczenie</span></div>
    <div class="slice"><span>Donie na 偶yczenie</span></div>
    <div class="slice"><span>Gatki z niespodziank</span></div>
    <div class="slice"><span>Dresy</span></div>
</div>

<button id="spinBtn" onclick="spin()">Zakr koem</button>

<div id="result"></div>

<script>
    const spinBtn = document.getElementById("spinBtn");
    const result = document.getElementById("result");

    let lastSpin = localStorage.getItem("lastSpinDate");
    let today = new Date().toDateString();

    if (lastSpin === today) {
        spinBtn.disabled = true;
        result.textContent = "Mo偶esz zakrci jutro 锔";
    }

    // *** PRZYPISANE NAGRODY DLA REALNYCH POL ***
    const prizes = [
        "Filmik jzykowy",
        "Penis w caoci",
        "Sesja buziakowa",
        "Troch gos贸wek",
        "Klatka na 偶yczenie",
        "Donie na 偶yczenie",
        "Gatki z niespodziank",
        "Dresy"
    ];

    function spin() {
        const wheel = document.getElementById("wheel");

        // 3600 = 10 obrot贸w 偶eby wygldao adnie
        let random = Math.floor(Math.random() * 360 + 3600);

        wheel.style.transform = "rotate(" + random + "deg)";

        setTimeout(() => {
            // oblicz realn pozycj
            let deg = random % 360;

            // ka偶de pole ma 45掳
            let index = Math.floor((360 - deg) / 45) % 8;

            let prize = prizes[index];

            // blokujemy penisa w losowaniu
            if (prize === "Penis w caoci") {
                prize = "Nic nie wypado, spr贸buj jutro ";
            }

            result.innerHTML = "Wylosowano: " + prize;

            // blokada na dzi
            localStorage.setItem("lastSpinDate", today);
            spinBtn.disabled = true;

        }, 5200);
    }
</script>

</body>
</html>
